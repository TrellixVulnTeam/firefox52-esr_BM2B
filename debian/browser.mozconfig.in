# Please don't use this mozconfig unless you are planning to build
# packages for Debian or a derivative.
. $topsrcdir/browser/config/mozconfig

ac_add_options --with-app-name=@browser@
ac_add_options --enable-release
ac_add_options --prefix=/usr

%if GTK3
ac_add_options --enable-default-toolkit=cairo-gtk3
%else
ac_add_options --enable-default-toolkit=cairo-gtk2
%endif
ac_add_options --with-mozilla-api-keyfile=$topsrcdir/debian/mls.key
%if USE_SYSTEM_ZLIB
ac_add_options --with-system-zlib # MOZ_SYSTEM_ZLIB=1
%endif
%if USE_SYSTEM_BZ2
ac_add_options --with-system-bz2 # MOZ_SYSTEM_BZ2=1
%endif
ac_add_options --disable-gconf
ac_add_options --enable-readline
%if USE_SYSTEM_HUNSPELL
ac_add_options --enable-system-hunspell # MOZ_SYSTEM_HUNSPELL=1
%endif
ac_add_options --disable-strip
ac_add_options --disable-install-strip
ac_add_options --enable-startup-notification
%if USE_SYSTEM_FFI
ac_add_options --enable-system-ffi # MOZ_SYSTEM_FFI=1
%endif
%if USE_SYSTEM_LIBEVENT
ac_add_options --with-system-libevent # MOZ_SYSTEM_LIBEVENT=1
%endif
%if USE_SYSTEM_NSPR
ac_add_options --with-system-nspr # MOZ_SYSTEM_NSPR=1
%endif
%if USE_SYSTEM_NSS
ac_add_options --with-system-nss # MOZ_SYSTEM_NSS=1
%endif
%if USE_SYSTEM_SQLITE
ac_add_options --enable-system-sqlite # MOZ_SYSTEM_SQLITE=1
%endif
%if USE_SYSTEM_VPX
ac_add_options --with-system-libvpx # MOZ_SYSTEM_LIBVPX=1
%endif

# VERIFICA
#ac_add_options --enable-system-pixman

ac_add_options --disable-updater
ac_add_options --enable-pie

%if BUILD_RUST
ac_add_options --enable-rust
%endif
ac_add_options --enable-alsa

#**************************************************************************************

#ac_add_options --with-pthreads **
ac_add_options --disable-tests
ac_add_options --enable-necko-wifi
ac_add_options --enable-chrome-format=omni
ac_add_options --enable-pulseaudio

#**
ac_add_options --enable-strip
ac_add_options --enable-install-strip
#ac_add_options --disable-strip 

# Workaround for mozbz#1341234
ac_add_options BINDGEN_CFLAGS="$(pkg-config nspr pixman-1 --cflags)"
ac_add_options --enable-official-branding

export BUILD_OFFICIAL=1
export MOZILLA_OFFICIAL=1
export MOZ_TELEMETRY_REPORTING=1

# Features
ac_add_options --disable-crashreporter
ac_add_options --enable-jemalloc
#ac_add_options --disable-release
ac_add_options --disable-ion

ac_add_options --enable-optimize="-pipe -mcpu=G5 -O2 -funroll-loops -finline-functions -funswitch-loops -fpredictive-commoning -fgcse-after-reload"
#ac_add_options --without-intl-api

#mk_add_options PYTHON=/usr/bin/python2
#mk_add_options BUILD_OFFICIAL=1
#mk_add_options MOZILLA_OFFICIAL=1

#ac_add_options --disable-cpp-exceptions UNKNOWN!
ac_add_options --enable-webrtc
ac_add_options --enable-printing
#ac_add_options --enable-prebinding UNKNOWN
#ac_add_options --enable-chrome-format=jar
#ac_add_options --with-system-jpeg
#ac_add_options --disable-static UNKNOWN!
#ac_add_options --disable-installer UNKNOWN
